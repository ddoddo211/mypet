<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="petSitter">
	<select id="petSitterToHomeList" resultType="pstVo">
		select * from petsitter		
	</select>
	
	<select id="petSitterZip" resultType="zipVo">
		select * from zip
	</select>
	
	<select id="petToHomeDetail" parameterType="String" resultType="pstVo">
		select * 
		from petsitter
		where pst_id = #{pst_id}
	</select>
	
	<select id="getFaqList" resultType="fVo">
		select *
		from petsitFaq
	</select>
	
	<select id="getFaqOne" parameterType="String" resultType="fVo">
		select *
		from petsitFaq
		where psf_id = #{psf_id}
	</select>
	
	<update id="memAddrUpdate" parameterType="map">
		update member
		set mem_addr = #{mem_addr}, mem_addr2 = #{mem_addr2}
		where mem_id = #{mem_id}
	</update>
	
	<select id="getMypetList" parameterType="String" resultType="mypetVo">
		select * from mypet, petkind, animal
		where myp_petk = petk_id
		and am_id = petk_am
		and myp_mem = #{mem_id}
	</select>
	
	<select id="getPetKindList" parameterType="String" resultType="petkindVo">
		select * 
		from petkind, animal
		where petk_am = am_id
		and am_name = #{am_name}
	</select>
	
	<insert id="insertMypet" parameterType="map">
		insert into mypet
		values('MP' || lpad(mypet_no.nextVal, 3, '0'), #{myp_mem}, #{myp_petk}, #{myp_birth}, #{myp_sick}, #{myp_img}, #{myp_neu}, #{myp_gender}, #{myp_name})	
	</insert>
	
	<delete id="deleteMypet" parameterType="String">
		delete from mypet
		where myp_id = #{myp_id}
	</delete>
	
	<select id="getPetInfo" parameterType="String" resultType="mypetVo">
		select *
		from mypet
		where myp_id = #{myp_id}
	</select>
	
	<insert id="insertReservation" parameterType="map">
		insert into sitterres
		values('STR' || lpad(res_no.nextVal,3,'0'), sysdate, #{str_spec}, #{str_price}, #{str_time}, #{str_atime}, #{str_arr}, #{str_pst}, #{str_mem}, #{str_myp})
	</insert>
</mapper>